// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
   provider = "prisma-client-js"
}

datasource db {
   provider = "postgresql"
   url      = env("DATABASE_URL")
}

model Product {
   id          Int        @id @default(autoincrement())
   name        String
   description String
   image       String
   verified    Boolean    @default(false)
   product     Feedback[]

   @@map("products")
   Brand Brand[]
}

model User {
   id            Int        @id @default(autoincrement())
   email         String     @unique @default("")
   password_hash String     @default("")
   permission    String?
   created_at    DateTime   @default(now())
   update_at     DateTime   @default(now())
   feedback      Feedback[]

   @@map("user")
}

model Feedback {
   id        Int      @id @default(autoincrement())
   contents  String
   userId    Int      @map("user_id")
   user      User     @relation(fields: [userId], references: [id])
   productId Int      @map("product_id")
   product   Product  @relation(fields: [productId], references: [id])
   create_at DateTime @default(now())
   update_at DateTime @default(now())

   @@map("feedbacks")
}

model Ingredient {
   id   Int    @id @default(autoincrement())
   name String

   @@map("ingredients")
}

model Brand {
   id        Int     @id @default(autoincrement())
   name      String
   productId Int     @map("product_id")
   product   Product @relation(fields: [productId], references: [id])

   create_at DateTime @default(now())
   update_at DateTime @default(now())

   @@map("brand")
}
